{
  "$id": "https://www.gov.uk/government/organisations/hm-revenue-customs/schema/itsa/Get_Pension_Charges",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Get State Benefits",
  "description": "View a list of State Benefits & Pensions associated with the customer, the list may contain Benefits that the customer has added via their third party software, these are clearly marked.",
  "type": "object",
  "oneOf": [
    {
      "properties": {
        "stateBenefits": {
          "type": "array",
          "additionalItems": false,
          "minItems": 1,
          "items": {
            "$ref": "#/definitions/hmrcBenefit"
          }
        },
        "customerAddedStateBenefits": {
          "type": "array",
          "additionalItems": false,
          "minItems": 1,
          "items": {
            "$ref": "#/definitions/customerBenefit"
          }
        }
      },
      "required": ["employments"],
      "additionalProperties": false
    },
    {
      "properties": {
        "stateBenefits": {
          "type": "array",
          "additionalItems": false,
          "minItems": 1,
          "items": {
            "$ref": "#/definitions/hmrcBenefitHistory"
          }
        },
        "customerAddedStateBenefits": {
          "type": "array",
          "additionalItems": false,
          "minItems": 1,
          "items": {
            "$ref": "#/definitions/customerBenefitHistory"
          }
        }
      },
      "required": ["stateBenefits"],
      "additionalProperties": false
    }
  ],
  "definitions": {
    "benefitId": {
      "id": "#employmentId",
      "description": "Unique identifier of the benrfit",
      "type": "string",
      "pattern": "^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$",
      "format": "uuid"
    },
    "startDate": {
      "type": "string",
      "format": "date"
    },
    "endDate": {
      "type": "string",
      "format": "date"
    },
    "moneyZeroToPositive" : {
      "$id" : "#moneyPositive",
      "description" : "Definition of a positive money value",
      "type" : "number",
      "multipleOf" : 0.01,
      "minimum" : 0,
      "maximum" : 99999999.99
    },
    "stateBenefits": {
      "type": "object",
      "additionalProperties": false,
      "required": ["benefitId","startDate", "amount","taxPaid"]
      "properties": {
        "benefitId": {
          "$ref": "#/definitions/benefitId"
        }
    }
}
