{
  "$id": "https://www.gov.uk/government/organisations/hm-revenue-customs/schema/itsa/Get_Employment_Response",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Get Employment Response",
  "description": "A view of the low level details of a customers employment, this view is created by blending data from various sources based on set of precedence rules.",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "viewDetails",
    "employment"
  ],
  "properties": {
    "viewDetails": {
      "$ref": "#/definitions/viewDetails"
    },
    "employment": {
      "$ref": "#/definitions/employment"
    }
  },
  "definitions": {
    "moneyPositive": {
      "$id": "#moneyPositive",
      "description": "Definition of a positive money value",
      "type": "number",
      "multipleOf": 0.01,
      "minimum": 0,
      "maximum": 99999999.99
    },
    "viewDetails": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "viewType"
      ],
      "minProperties": 2,
      "properties": {
        "viewType": {
          "type": "string",
          "enum": [
            "HMRC",
            "CUSTOMER",
            "LATEST"
          ]
        },
        "lastHMRCChangeDate": {
          "type": "string",
          "format": "date-time"
        },
        "customerOverrideDate": {
          "type": "string",
          "format": "date-time"
        }
      }
    },
    "employment": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "startDate"
      ],
      "properties": {
        "payrollId": {
          "id": "#payrollId",
          "type": "string",
          "pattern": "^[a-zA-Z0-9]{0,74}$"
        },
        "companyDirector": {
          "type": "boolean"
        },
        "closeCompany": {
          "type": "boolean"
        },
        "directorshipCeasedDate": {
          "type": "string",
          "format": "date"
        },
        "startDate": {
          "type": "string",
          "format": "date"
        },
        "cessationDate": {
          "type": "string",
          "format": "date"
        },
        "occupationalPension": {
          "type": "boolean"
        },
        "disguisedRemuneration": {
          "type": "boolean"
        },
        "dateIgnored": {
          "type": "string",
          "format": "date-time"
        },
        "employer": {
          "type": "object",
          "additionalProperties": false,
          "required": [
            "employerRef"
          ],
          "properties": {
            "employerRef": {
              "type": "string",
              "pattern": "^([0-9]{3})/([^ ].{0,10})$"
            },
            "employerName": {
              "type": "string",
              "pattern": "^.{0,74}$"
            }
          }
        },
        "pay": {
          "type": "object",
          "additionalProperties": false,
          "oneOf": [
            {
              "required": [
                "payFrequency",
                "paymentDate",
                "taxWeekNo"
              ],
              "not": {
                "required": [
                  "taxMonthNo"
                ]
              }
            },
            {
              "required": [
                "payFrequency",
                "paymentDate",
                "taxMonthNo"
              ],
              "not": {
                "required": [
                  "taxWeekNo"
                ]
              }
            }
          ],
          "properties": {
            "grossAmountPaidYtd": {
              "$ref": "#/definitions/moneyPositive"
            },
            "taxTakenOffYtd": {
              "$ref": "#/definitions/moneyPositive"
            },
            "tipsAndOtherPayments": {
              "$ref": "#/definitions/moneyPositive"
            },
            "payFrequency": {
              "type": "string",
              "enum": [
                "WEEKLY",
                "FORTNIGHTLY",
                "FOUR WEEKLY",
                "CALENDAR MONTHLY",
                "QUARTERLY",
                "BI-ANNUALLY",
                "ONE-OFF",
                "IRREGULAR",
                "ANNUALLY"
              ]
            },
            "paymentDate": {
              "type": "string",
              "format": "date"
            },
            "taxWeekNo": {
              "type": "number",
              "minimum": 1,
              "maxumum": 52
            },
            "taxMonthNo": {
              "type": "number",
              "minimum": 1,
              "maximum": 13
            }
          }
        },
        "lumpSums": {
          "type": "object",
          "additionalProperties": false,
          "minProperties": 1,
          "properties": {
            "taxableLumpSumsAndCertainIncome": {
              "type": "object",
              "properties": {
                "amount": {
                  "$ref": "#moneyPositive"
                },
                "taxPaid": {
                  "$ref": "#moneyPositive"
                },
                "taxTakenOffInEmployment": {
                  "type": "boolean"
                }
              },
              "additionalProperties": false,
              "minProperties": 1,
              "required": []
            },
            "benefitFromEmployerFinancedRetirementScheme": {
              "type": "object",
              "properties": {
                "amount": {
                  "$ref": "#moneyPositive"
                },
                "exemptAmount": {
                  "$ref": "#moneyPositive"
                },
                "taxPaid": {
                  "$ref": "#moneyPositive"
                },
                "taxTakenOffInEmployment": {
                  "type": "boolean"
                }
              },
              "additionalProperties": false,
              "minProperties": 1
            },
            "redundancyCompensationPaymentsOverExemption": {
              "type": "object",
              "properties": {
                "amount": {
                  "$ref": "#moneyPositive"
                },
                "taxPaid": {
                  "$ref": "#moneyPositive"
                },
                "taxTakenOffInEmployment": {
                  "type": "boolean"
                }
              },
              "additionalProperties": false,
              "minProperties": 1
            },
            "redundancyCompensationPaymentsUnderExemption": {
              "type": "object",
              "properties": {
                "amount": {
                  "$ref": "#moneyPositive"
                }
              },
              "additionalProperties": false,
              "minProperties": 1
            }
          }
        },
        "deductions": {
          "type": "object",
          "additionalProperties": false,
          "minProperties": 1,
          "properties": {
            "studentLoans": {
              "type": "object",
              "additionalProperties": false,
              "minProperties": 1,
              "properties": {
                "uglDeductionAmount": {
                  "$ref": "#moneyPositive"
                },
                "pglDeductionAmount": {
                  "$ref": "#moneyPositive"
                }
              }
            }
          }
        },
        "benefits": {
          "type": "object",
          "additionalProperties": false,
          "minProperties": 1,
          "properties": {
            "accommodation": {
              "$ref": "#moneyPositive"
            },
            "assets": {
              "$ref": "#moneyPositive"
            },
            "assetTransfer": {
              "$ref": "#moneyPositive"
            },
            "beneficialLoan": {
              "$ref": "#moneyPositive"
            },
            "car": {
              "$ref": "#moneyPositive"
            },
            "carFuel": {
              "$ref": "#moneyPositive"
            },
            "educationalServices": {
              "$ref": "#moneyPositive"
            },
            "entertaining": {
              "$ref": "#moneyPositive"
            },
            "expenses": {
              "$ref": "#moneyPositive"
            },
            "medicalInsurance": {
              "$ref": "#moneyPositive"
            },
            "telephone": {
              "$ref": "#moneyPositive"
            },
            "service": {
              "$ref": "#moneyPositive"
            },
            "taxableExpenses": {
              "$ref": "#moneyPositive"
            },
            "van": {
              "$ref": "#moneyPositive"
            },
            "vanFuel": {
              "$ref": "#moneyPositive"
            },
            "mileage": {
              "$ref": "#moneyPositive"
            },
            "nonQualifyingRelocationExpenses": {
              "$ref": "#moneyPositive"
            },
            "nurseryPlaces": {
              "$ref": "#moneyPositive"
            },
            "otherItems": {
              "$ref": "#moneyPositive"
            },
            "paymentsOnEmployeesBehalf": {
              "$ref": "#moneyPositive"
            },
            "personalIncidentalExpenses": {
              "$ref": "#moneyPositive"
            },
            "qualifyingRelocationExpenses": {
              "$ref": "#moneyPositive"
            },
            "employerProvidedProfessionalSubscriptions": {
              "$ref": "#moneyPositive"
            },
            "employerProvidedServices": {
              "$ref": "#moneyPositive"
            },
            "incomeTaxPaidByDirector": {
              "$ref": "#moneyPositive"
            },
            "travelAndSubsistence": {
              "$ref": "#moneyPositive"
            },
            "vouchersAndCreditCards": {
              "$ref": "#moneyPositive"
            },
            "nonCash": {
              "$ref": "#moneyPositive"
            }
          }
        }
      }
    }
  },
  "examples": [
    {
      "viewDetails": {
        "viewType": "LATEST",
        "lastHMRCChangeDate": "2019-04-04T01:01:01Z",
        "customerOverrideDate": "2019-04-04T01:01:01Z"
      },
      "employment": {
        "payrollId": "124432423423",
        "companyDirector": false,
        "closeCompany": false,
        "directorshipCeasedDate": "2020-01-01",
        "startDate": "2019-01-01",
        "cessationDate": "2020-01-01",
        "occupationalPension": false,
        "disguisedRemuneration": false,
        "employer": {
          "employerRef": "123/XX12345",
          "employerName": "wibble"
        },
        "pay": {
          "grossAmountPaidYtd": 1234.15,
          "taxTakenOffYtd": 12.22,
          "tipsAndOtherPayments": 10000.0,
          "payFrequency": "CALENDAR MONTHLY",
          "paymentDate": "2020-05-12",
          "taxWeekNo": 52
        },
        "lumpSums": {
          "taxableLumpSumsAndCertainIncome": {
            "amount": 123.00,
            "taxPaid": 123.00,
            "taxTakenOffInEmployment": true
          },
          "benefitFromEmployerFinancedRetirementScheme": {
            "amount": 123.00,
            "exemptAmount": 123.00,
            "taxPaid": 123.00,
            "taxTakenOffInEmployment": true
          },
          "redundancyCompensationPaymentsOverExemption": {
            "amount": 123.00,
            "taxPaid": 123.00,
            "taxTakenOffInEmployment": true
          },
          "redundancyCompensationPaymentsUnderExemption": {
            "amount": 123.00
          }
        },
        "deductions": {
          "studentLoans": {
            "uglDeductionAmount": 1232.22,
            "pglDeductionAmount": 1232.22
          }
        },
        "benefits": {
          "accommodation": 124.22,
          "assets": 124.22,
          "assetTransfer": 124.22,
          "beneficialLoan": 124.22,
          "car": 124.22,
          "carFuel": 124.22,
          "educationalServices": 124.22,
          "entertaining": 124.22,
          "expenses": 124.22,
          "medicalInsurance": 124.22,
          "telephone": 124.22,
          "service": 124.22,
          "taxableExpenses": 124.22,
          "van": 124.22,
          "vanFuel": 124.22,
          "mileage": 124.22,
          "nonQualifyingRelocationExpenses": 124.22,
          "nurseryPlaces": 124.22,
          "otherItems": 124.22,
          "paymentsOnEmployeesBehalf": 124.22,
          "personalIncidentalExpenses": 124.22,
          "qualifyingRelocationExpenses": 124.22,
          "employerProvidedProfessionalSubscriptions": 124.22,
          "employerProvidedServices": 124.22,
          "incomeTaxPaidByDirector": 124.22,
          "travelAndSubsistence": 124.22,
          "vouchersAndCreditCards": 124.22,
          "nonCash": 124.22
        }
      }
    },
    {
      "viewDetails": {
        "viewType": "HMRC",
        "lastHMRCChangeDate": "2019-04-04T01:01:01Z"
      },
      "employment": {
        "payrollId": "124432423423",
        "companyDirector": false,
        "closeCompany": false,
        "directorshipCeasedDate": "2020-01-01",
        "startDate": "2019-01-01",
        "cessationDate": "2020-01-01",
        "occupationalPension": false,
        "disguisedRemuneration": false,
        "employer": {
          "employerRef": "123/XX12345",
          "employerName": "wibble"
        },
        "pay": {
          "grossAmountPaidYtd": 1234.15,
          "taxTakenOffYtd": 12.22,
          "tipsAndOtherPayments": 10000.0,
          "payFrequency": "CALENDAR MONTHLY",
          "paymentDate": "2020-05-12",
          "taxWeekNo": 52
        },
        "lumpSums": {
          "taxableLumpSumsAndCertainIncome": {
            "amount": 123.00,
            "taxPaid": 123.00,
            "taxTakenOffInEmployment": true
          },
          "benefitFromEmployerFinancedRetirementScheme": {
            "amount": 123.00,
            "exemptAmount": 123.00,
            "taxPaid": 123.00,
            "taxTakenOffInEmployment": true
          },
          "redundancyCompensationPaymentsOverExemption": {
            "amount": 123.00,
            "taxPaid": 123.00,
            "taxTakenOffInEmployment": true
          },
          "redundancyCompensationPaymentsUnderExemption": {
            "amount": 123.00
          }
        },
        "deductions": {
          "studentLoans": {
            "uglDeductionAmount": 1232.22,
            "pglDeductionAmount": 1232.22
          }
        },
        "benefits": {
          "accommodation": 124.22,
          "assets": 124.22,
          "assetTransfer": 124.22,
          "beneficialLoan": 124.22,
          "car": 124.22,
          "carFuel": 124.22,
          "educationalServices": 124.22,
          "entertaining": 124.22,
          "expenses": 124.22,
          "medicalInsurance": 124.22,
          "telephone": 124.22,
          "service": 124.22,
          "taxableExpenses": 124.22,
          "van": 124.22,
          "vanFuel": 124.22,
          "mileage": 124.22,
          "nonQualifyingRelocationExpenses": 124.22,
          "nurseryPlaces": 124.22,
          "otherItems": 124.22,
          "paymentsOnEmployeesBehalf": 124.22,
          "personalIncidentalExpenses": 124.22,
          "qualifyingRelocationExpenses": 124.22,
          "employerProvidedProfessionalSubscriptions": 124.22,
          "employerProvidedServices": 124.22,
          "incomeTaxPaidByDirector": 124.22,
          "travelAndSubsistence": 124.22,
          "vouchersAndCreditCards": 124.22,
          "nonCash": 124.22
        }
      }
    },
    {
      "viewDetails": {
        "viewType": "LATEST",
        "lastHMRCChangeDate": "2019-04-04T01:01:01Z",
        "customerOverrideDate": "2019-04-04T01:01:01Z"
      },
      "employment": {
        "payrollId": "124432423423",
        "companyDirector": false,
        "closeCompany": false,
        "directorshipCeasedDate": "2020-01-01",
        "startDate": "2019-01-01",
        "cessationDate": "2020-01-01",
        "occupationalPension": false,
        "disguisedRemuneration": false,
        "employer": {
          "employerRef": "123/XX12345",
          "employerName": "wibble"
        },
        "pay": {
          "grossAmountPaidYtd": 1234.15,
          "taxTakenOffYtd": 12.22,
          "tipsAndOtherPayments": 10000.0,
          "payFrequency": "CALENDAR MONTHLY",
          "paymentDate": "2020-05-12",
          "taxWeekNo": 52
        },
        "lumpSums": {
          "taxableLumpSumsAndCertainIncome": {
            "amount": 123.00,
            "taxPaid": 123.00,
            "taxTakenOffInEmployment": true
          },
          "benefitFromEmployerFinancedRetirementScheme": {
            "amount": 123.00,
            "exemptAmount": 123.00,
            "taxPaid": 123.00,
            "taxTakenOffInEmployment": true
          },
          "redundancyCompensationPaymentsOverExemption": {
            "amount": 123.00,
            "taxPaid": 123.00,
            "taxTakenOffInEmployment": true
          },
          "redundancyCompensationPaymentsUnderExemption": {
            "amount": 123.00
          }
        },
        "deductions": {
          "studentLoans": {
            "uglDeductionAmount": 1232.22,
            "pglDeductionAmount": 1232.22
          }
        },
        "benefits": {
          "accommodation": 124.22,
          "assets": 124.22,
          "assetTransfer": 124.22,
          "beneficialLoan": 124.22,
          "car": 124.22,
          "carFuel": 124.22,
          "educationalServices": 124.22,
          "entertaining": 124.22,
          "expenses": 124.22,
          "medicalInsurance": 124.22,
          "telephone": 124.22,
          "service": 124.22,
          "taxableExpenses": 124.22,
          "van": 124.22,
          "vanFuel": 124.22,
          "mileage": 124.22,
          "nonQualifyingRelocationExpenses": 124.22,
          "nurseryPlaces": 124.22,
          "otherItems": 124.22,
          "paymentsOnEmployeesBehalf": 124.22,
          "personalIncidentalExpenses": 124.22,
          "qualifyingRelocationExpenses": 124.22,
          "employerProvidedProfessionalSubscriptions": 124.22,
          "employerProvidedServices": 124.22,
          "incomeTaxPaidByDirector": 124.22,
          "travelAndSubsistence": 124.22,
          "vouchersAndCreditCards": 124.22,
          "nonCash": 124.22
        }
      }
    },
    {
      "viewDetails": {
        "viewType": "LATEST",
        "lastHMRCChangeDate": "2019-04-04T01:01:01Z",
        "customerOverrideDate": "2019-04-04T01:01:01Z"
      },
      "employment": {
        "payrollId": "124432423423",
        "companyDirector": false,
        "closeCompany": false,
        "directorshipCeasedDate": "2020-01-01",
        "startDate": "2019-01-01",
        "cessationDate": "2020-01-01",
        "occupationalPension": false,
        "disguisedRemuneration": false,
        "employer": {
          "employerRef": "123/XX12345",
          "employerName": "wibble"
        },
        "pay": {
          "grossAmountPaidYtd": 1234.15,
          "taxTakenOffYtd": 12.22,
          "tipsAndOtherPayments": 10000.0,
          "payFrequency": "CALENDAR MONTHLY",
          "paymentDate": "2020-05-12",
          "taxWeekNo": 52
        },
        "lumpSums": {
          "taxableLumpSumsAndCertainIncome": {
            "amount": 123.00,
            "taxPaid": 123.00,
            "taxTakenOffInEmployment": true
          },
          "benefitFromEmployerFinancedRetirementScheme": {
            "amount": 123.00,
            "exemptAmount": 123.00,
            "taxPaid": 123.00,
            "taxTakenOffInEmployment": true
          },
          "redundancyCompensationPaymentsOverExemption": {
            "amount": 123.00,
            "taxPaid": 123.00,
            "taxTakenOffInEmployment": true
          },
          "redundancyCompensationPaymentsUnderExemption": {
            "amount": 123.00
          }
        },
        "deductions": {
          "studentLoans": {
            "uglDeductionAmount": 1232.22,
            "pglDeductionAmount": 1232.22
          }
        },
        "benefits": {
          "accommodation": 124.22,
          "assets": 124.22,
          "assetTransfer": 124.22,
          "beneficialLoan": 124.22,
          "car": 124.22,
          "carFuel": 124.22,
          "educationalServices": 124.22,
          "entertaining": 124.22,
          "expenses": 124.22,
          "medicalInsurance": 124.22,
          "telephone": 124.22,
          "service": 124.22,
          "taxableExpenses": 124.22,
          "van": 124.22,
          "vanFuel": 124.22,
          "mileage": 124.22,
          "nonQualifyingRelocationExpenses": 124.22,
          "nurseryPlaces": 124.22,
          "otherItems": 124.22,
          "paymentsOnEmployeesBehalf": 124.22,
          "personalIncidentalExpenses": 124.22,
          "qualifyingRelocationExpenses": 124.22,
          "employerProvidedProfessionalSubscriptions": 124.22,
          "employerProvidedServices": 124.22,
          "incomeTaxPaidByDirector": 124.22,
          "travelAndSubsistence": 124.22,
          "vouchersAndCreditCards": 124.22,
          "nonCash": 124.22
        }
      }
    },
    {
      "viewDetails": {
        "viewType": "LATEST",
        "lastHMRCChangeDate": "2019-04-04T01:01:01Z",
        "customerOverrideDate": "2019-04-04T01:01:01Z"
      },
      "employment": {
        "payrollId": "124432423423",
        "companyDirector": false,
        "closeCompany": false,
        "directorshipCeasedDate": "2020-01-01",
        "startDate": "2019-01-01",
        "cessationDate": "2020-01-01",
        "occupationalPension": false,
        "disguisedRemuneration": false,
        "dateIgnored": "2019-04-04T01:01:01Z",
        "employer": {
          "employerRef": "123/XX12345",
          "employerName": "wibble"
        },
        "pay": {
          "grossAmountPaidYtd": 1234.15,
          "taxTakenOffYtd": 12.22,
          "tipsAndOtherPayments": 10000.0,
          "payFrequency": "CALENDAR MONTHLY",
          "lastPaymentDate": "2020-05-12",
          "taxWeekNo": 52
        },
        "lumpSums": {
          "taxableLumpSumsAndCertainIncome": {
            "amount": 123.00,
            "taxPaid": 123.00,
            "taxTakenOffInEmployment": true
          },
          "benefitFromEmployerFinancedRetirementScheme": {
            "amount": 123.00,
            "exemptAmount": 123.00,
            "taxPaid": 123.00,
            "taxTakenOffInEmployment": true
          },
          "redundancyCompensationPaymentsOverExemption": {
            "amount": 123.00,
            "taxPaid": 123.00,
            "taxTakenOffInEmployment": true
          },
          "redundancyCompensationPaymentsUnderExemption": {
            "amount": 123.00
          }
        },
        "deductions": {
          "studentLoans": {
            "uglDeductionAmount": 1232.22,
            "pglDeductionAmount": 1232.22
          }
        },
        "benefits": {
          "accommodation": 124.22,
          "assets": 124.22,
          "assetTransfer": 124.22,
          "beneficialLoan": 124.22,
          "car": 124.22,
          "carFuel": 124.22,
          "educationalServices": 124.22,
          "entertaining": 124.22,
          "expenses": 124.22,
          "medicalInsurance": 124.22,
          "telephone": 124.22,
          "service": 124.22,
          "taxableExpenses": 124.22,
          "van": 124.22,
          "vanFuel": 124.22,
          "mileage": 124.22,
          "nonQualifyingRelocationExpenses": 124.22,
          "nurseryPlaces": 124.22,
          "otherItems": 124.22,
          "paymentsOnEmployeesBehalf": 124.22,
          "personalIncidentalExpenses": 124.22,
          "qualifyingRelocationExpenses": 124.22,
          "employerProvidedProfessionalSubscriptions": 124.22,
          "employerProvidedServices": 124.22,
          "incomeTaxPaidByDirector": 124.22,
          "travelAndSubsistence": 124.22,
          "vouchersAndCreditCards": 124.22,
          "nonCash": 124.22
        }
      }
    }
  ]
}
