{
  "$id": "https://www.gov.uk/government/organisations/hm-revenue-customs/schema/itsa/Put_Employment_Request",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Put Employment Request",
  "type": "object",
  "oneOf":[
    {
      "type":"object",
      "properties":{
        "employment": {
          "$ref":"#/definitions/employment"}
      }
    },
    {
      "type": "object",
      "properties": {
        "ignoreEmployment": {
          "const": true
        }
      }
    }
  ],
  "definitions": {
    "moneyPositive": {
      "$id": "#moneyPositive",
      "description": "Definition of a positive money value",
      "type": "number",
      "multipleOf": 0.01,
      "minimum": 0,
      "maximum": 99999999.99
    },
    "employment": {
      "id": "#employment",
      "description": "The delta changes the customer wants to make against the employment",
      "type": "object",
      "additionalProperties" : false,
      "minProperties": 1,
      "properties": {
        "payrollId": {
          "id": "#payrollId",
          "type": "string",
          "pattern": "^[a-zA-Z0-9]{0,74}$"
        },
        "companyDirector": {
          "type": "boolean"
        },
        "closeCompany": {
          "type": "boolean"
        },
        "directorshipCeasedDate": {
          "type": "string",
          "format": "date"
        },
        "startDate": {
          "type": "string",
          "format": "date"
        },
        "cessationDate": {
          "type": "string",
          "format": "date"
        },
        "occupationalPension": {
          "type": "boolean"
        },
        "disguisedRemuneration": {
          "type": "boolean"
        },
        "dateIgnored": {
          "type": "string",
          "format": "date-time"
        },
        "employer": {
          "type": "object",
          "additionalProperties": false,
          "minProperties": 1,
          "properties": {
            "employerName": {
              "type": "string",
              "pattern": "^.{0,74}$"
            }
          }
        },
        "pay": {
          "type": "object",
          "additionalProperties": false,
          "minProperties": 1,
          "properties": {
            "grossAmountPaidYtd": {
              "$ref": "#/definitions/moneyPositive"
            },
            "taxTakenOffYtd": {
              "$ref": "#/definitions/moneyPositive"
            },
            "tipsAndOtherPayments": {
              "$ref": "#/definitions/moneyPositive"
            },
            "payFrequency": {
              "type": "string",
              "enum": [
                "WEEKLY",
                "FORTNIGHTLY",
                "FOUR WEEKLY",
                "CALENDAR MONTHLY",
                "QUARTERLY",
                "BI-ANNUALLY",
                "ONE-OFF",
                "IRREGULAR",
                "ANNUALLY"
              ]
            },
            "paymentDate": {
              "type": "string",
              "format": "date"
            },
            "taxWeekNo": {
              "type": "number",
              "minimum": 1,
              "maxumum": 52
            },
            "taxMonthNo": {
              "type": "number",
              "minimum": 1,
              "maximum": 13
            }
          }
        },
        "lumpSums": {
          "type": "object",
          "additionalProperties": false,
          "minProperties": 1,
          "properties": {
            "taxableLumpSumsAndCertainIncome": {
              "type": "object",
              "properties": {
                "amount": {
                  "$ref": "#moneyPositive"
                },
                "taxPaid": {
                  "$ref": "#moneyPositive"
                },
                "taxTakenOffInEmployment": {
                  "type": "boolean"
                }
              },
              "additionalProperties": false,
              "minProperties": 1,
              "required": []
            },
            "benefitFromEmployerFinancedRetirementScheme": {
              "type": "object",
              "properties": {
                "amount": {
                  "$ref": "#moneyPositive"
                },
                "exemptAmount": {
                  "$ref": "#moneyPositive"
                },
                "taxPaid": {
                  "$ref": "#moneyPositive"
                },
                "taxTakenOffInEmployment": {
                  "type": "boolean"
                }
              },
              "additionalProperties": false,
              "minProperties": 1
            },
            "redundancyCompensationPaymentsOverExemption": {
              "type": "object",
              "properties": {
                "amount": {
                  "$ref": "#moneyPositive"
                },
                "taxPaid": {
                  "$ref": "#moneyPositive"
                },
                "taxTakenOffInEmployment": {
                  "type": "boolean"
                }
              },
              "additionalProperties": false,
              "minProperties": 1
            },
            "redundancyCompensationPaymentsUnderExemption": {
              "type": "object",
              "properties": {
                "amount": {
                  "$ref": "#moneyPositive"
                }
              },
              "additionalProperties": false,
              "minProperties": 1
            }
          }
        },
        "deductions": {
          "type": "object",
          "additionalProperties": false,
          "minProperties": 1,
          "properties": {
            "studentLoans": {
              "type": "object",
              "additionalProperties": false,
              "minProperties": 1,
              "properties": {
                "uglDeductionAmount": {
                  "$ref": "#moneyPositive"
                },
                "pglDeductionAmount": {
                  "$ref": "#moneyPositive"
                }
              }
            }
          }
        },
        "benefits": {
          "type": "object",
          "additionalProperties": false,
          "minProperties": 1,
          "properties": {
            "accommodation": {
              "$ref": "#moneyPositive"
            },
            "assets": {
              "$ref": "#moneyPositive"
            },
            "assetTransfer": {
              "$ref": "#moneyPositive"
            },
            "beneficialLoan": {
              "$ref": "#moneyPositive"
            },
            "car": {
              "$ref": "#moneyPositive"
            },
            "carFuel": {
              "$ref": "#moneyPositive"
            },
            "educationalServices": {
              "$ref": "#moneyPositive"
            },
            "entertaining": {
              "$ref": "#moneyPositive"
            },
            "expenses": {
              "$ref": "#moneyPositive"
            },
            "medicalInsurance": {
              "$ref": "#moneyPositive"
            },
            "telephone": {
              "$ref": "#moneyPositive"
            },
            "service": {
              "$ref": "#moneyPositive"
            },
            "taxableExpenses": {
              "$ref": "#moneyPositive"
            },
            "van": {
              "$ref": "#moneyPositive"
            },
            "vanFuel": {
              "$ref": "#moneyPositive"
            },
            "mileage": {
              "$ref": "#moneyPositive"
            },
            "nonQualifyingRelocationExpenses": {
              "$ref": "#moneyPositive"
            },
            "nurseryPlaces": {
              "$ref": "#moneyPositive"
            },
            "otherItems": {
              "$ref": "#moneyPositive"
            },
            "paymentsOnEmployeesBehalf": {
              "$ref": "#moneyPositive"
            },
            "personalIncidentalExpenses": {
              "$ref": "#moneyPositive"
            },
            "qualifyingRelocationExpenses": {
              "$ref": "#moneyPositive"
            },
            "employerProvidedProfessionalSubscriptions": {
              "$ref": "#moneyPositive"
            },
            "employerProvidedServices": {
              "$ref": "#moneyPositive"
            },
            "incomeTaxPaidByDirector": {
              "$ref": "#moneyPositive"
            },
            "travelAndSubsistence": {
              "$ref": "#moneyPositive"
            },
            "vouchersAndCreditCards": {
              "$ref": "#moneyPositive"
            },
            "nonCash": {
              "$ref": "#moneyPositive"
            }
          }
        }
      }
    }
  },
  "examples": [
    {
      "employment": {
        "payrollId": "124432423423",
        "companyDirector": false,
        "closeCompany": false,
        "directorshipCeasedDate": "2020-01-01",
        "startDate": "2019-01-01",
        "cessationDate": "2020-01-01",
        "occupationalPension": false,
        "disguisedRemuneration": false,
        "employer": {
          "employerName": "wibble"
        },
        "pay": {
          "grossAmountPaidYtd": 1234.15,
          "taxTakenOffYtd": 12.22,
          "tipsAndOtherPayments": 10000.00,
          "payFrequency": "CALENDAR MONTHLY",
          "paymentDate": "2020-05-12",
          "taxWeekNo": 52
        },
        "lumpSums": {
          "taxableLumpSumsAndCertainIncome": {
            "amount": 123.0,
            "taxPaid": 123.0,
            "taxTakenOffInEmployment": true
          },
          "benefitFromEmployerFinancedRetirementScheme": {
            "amount": 123.0,
            "exemptAmount": 123.0,
            "taxPaid": 123.0,
            "taxTakenOffInEmployment": true
          },
          "redundancyCompensationPaymentsOverExemption": {
            "amount": 123.0,
            "taxPaid": 123.0,
            "taxTakenOffInEmployment": true
          },
          "redundancyCompensationPaymentsUnderExemption": {
            "amount": 123.0
          }
        },
        "deductions": {
          "studentLoans": {
            "uglDeductionAmount": 1232.22,
            "pglDeductionAmount": 1232.22
          }
        },
        "benefits": {
          "accommodation": 124.22,
          "assets": 124.22,
          "assetTransfer": 124.22,
          "beneficialLoan": 124.22,
          "car": 124.22,
          "carFuel": 124.22,
          "educationalServices": 124.22,
          "entertaining": 124.22,
          "expenses": 124.22,
          "medicalInsurance": 124.22,
          "telephone": 124.22,
          "service": 124.22,
          "taxableExpenses": 124.22,
          "van": 124.22,
          "vanFuel": 124.22,
          "mileage": 124.22,
          "nonQualifyingRelocationExpenses": 124.22,
          "nurseryPlaces": 124.22,
          "otherItems": 124.22,
          "paymentsOnEmployeesBehalf": 124.22,
          "personalIncidentalExpenses": 124.22,
          "qualifyingRelocationExpenses": 124.22,
          "employerProvidedProfessionalSubscriptions": 124.22,
          "employerProvidedServices": 124.22,
          "incomeTaxPaidByDirector": 124.22,
          "travelAndSubsistence": 124.22,
          "vouchersAndCreditCards": 124.22,
          "nonCash": 124.22
        }
      }
    },
    {
      "employment": {
        "benefits": {
          "car": 0.00
        }
      }
    },
    {
      "ignoreEmployment": true
    }
  ]
}